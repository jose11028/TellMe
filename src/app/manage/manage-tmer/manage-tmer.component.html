<section id="userRentals">
    <h1 class="page-title">My Tmers</h1>
    <div class="row">
        <ng-container *ngIf="tmers && tmers.length > 0">
            <div *ngFor="let tmer of tmers; let i=index" class="col-md-4">
                <div class="card text-center">
                    <div class="card-block">
                        <h4 class="card-title">{{tmer.title}} - {{tmer.city | ucwords}}</h4>
                        <a class="btn btn-bwm btn-ghost" routerLink="/tmers/{{tmer._id}}">Go to Tmer</a>
                        <span *ngIf="tmer.bookings && tmer.bookings.length > 0">
                            <app-manage-tmer-booking [bookings]="tmer.bookings"></app-manage-tmer-booking>
                        </span>
                    </div>
                    <div class="card-footer text-muted">
                        <p>Created at {{tmer.createdAt | formatDate}}</p>
                        <button (click)="showConfirmation(i)" *ngIf="!tmerDeleteIndex" type="button"
                            class="btn btn-bwm btn-delete">Delete</button>
                        <div *ngIf="tmerDeleteIndex === i">
                            <p class="confirm-message">Do you confirm delete?</p>
                            <button (click)="tmer._id && deleteTmer(tmer._id)" class="btn btn-success">Yes</button>
                            <button (click)="cancelDelete()" class="btn btn-danger">No</button>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container>
        <div *ngIf="tmers && tmers.length === 0" class="col-md-8">
            <div class="alert alert-warning">
                You don't have any Tmer currently created. If you want to advertise your offer please follow this link.
                <a class="btn btn-bwm" routerLink="/tmers/new">Register Tmer</a>
            </div>
        </div>
    </div>
</section>

